# ุจูููโุณุงุฒ ุฎูุฏฺฉุงุฑ ุชุตุงูุฑ

## ุฎูุงุตู

ุชูุงู ุชุตุงูุฑ ฺฉู ุจู ุณุณุชู ุขูพููุฏ ูโุดููุฏ (ฺู ุงุฒ ุทุฑู URL ุฎุงุฑุฌุ ฺู ุขูพููุฏ ูุณุชูู) ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ ูุจู ุงุฒ ุฐุฎุฑู ุฏุฑ Liara Object Storage ุจููู ูโุดููุฏ.

## ุชูุธูุงุช ุงุณุชุงูุฏุงุฑุฏ

### ุงุจุนุงุฏ
- **ุญุฏุงฺฉุซุฑ ุนุฑุถ**: 1200 ูพฺฉุณู
- **ุญุฏุงฺฉุซุฑ ุงุฑุชูุงุน**: 1200 ูพฺฉุณู
- **ูุณุจุช ุงุจุนุงุฏ**: ุญูุธ ูโุดูุฏ (ุจุฏูู crop)
- **Upscaling**: ุชุตุงูุฑ ฺฉูฺฺฉ ุจุฒุฑฺฏ ููโุดููุฏ

### ูุฑูุช ู ฺฉูุช
- **ูุฑูุช ูพุดโูุฑุถ**: WebP
- **ฺฉูุช WebP**: 80%
- **ฺฉูุช JPEG**: 85% (fallback)
- **ูุดุฑุฏูโุณุงุฒ**: MozJPEG ุจุฑุง JPEG

### ูุฏู ุญุฌู ูุงู
- **ูุฏู**: ุญุฏุงฺฉุซุฑ 500KB
- **ูุงูฺฏู ูุดุฑุฏูโุณุงุฒ**: 60-80% ฺฉุงูุด ุญุฌู

## ูุฒุงุง

### ๐ ุนููฺฉุฑุฏ
- **ุณุฑุนุช ููุฏ ุจุงูุงุชุฑ**: ุชุตุงูุฑ 60-80% ฺฉูฺฺฉโุชุฑ
- **ููุงุณุจ ุจุฑุง ููุจุงู**: ุญุฌู ฺฉูุ ููุฏ ุณุฑุน ุญุช ุจุง ุงูุชุฑูุช ุถุนู
- **Retina-ready**: ฺฉูุช ุจุงูุง ุจุฑุง ููุงุดฺฏุฑูุง 2x

### ๐ฐ ูุฒูู
- **ฺฉุงูุด ุชุฑุงูฺฉ**: 60-80% ฺฉูุชุฑ bandwidth
- **ุฐุฎุฑูโุณุงุฒ ฺฉูุชุฑ**: ูุถุง ฺฉูุชุฑ ุฏุฑ Liara Object Storage

### ๐ฅ ุชุฌุฑุจู ฺฉุงุฑุจุฑ
- **ููุฏ ุณุฑุน**: ฺฉุงุฑุจุฑุงู ุฒูุฏุชุฑ ุชุตุงูุฑ ุฑุง ูโุจููุฏ
- **ูุตุฑู ุฏุชุง ฺฉูุชุฑ**: ููู ุจุฑุง ฺฉุงุฑุจุฑุงู ุจุง ุจุณุชู ูุญุฏูุฏ
- **ฺฉูุช ุจุงูุง**: ููฺูุงู ุชุตุงูุฑ ูุงุถุญ ู ุดูุงู

## ูุฑุขูุฏ ุจูููโุณุงุฒ

### ฑ. ุฏุงูููุฏ/ุฏุฑุงูุช ุชุตูุฑ
```typescript
// ุงุฒ URL ุฎุงุฑุฌ
const response = await axios.get(imageUrl);
const buffer = Buffer.from(response.data);

// ุง ุงุฒ ุขูพููุฏ ูุณุชูู
const buffer = await file.arrayBuffer();
```

### ฒ. ุจูููโุณุงุฒ
```typescript
const optimized = await optimizeImage(buffer, {
  maxWidth: 1200,
  maxHeight: 1200,
  quality: 80,
  format: 'webp',
});
```

ุนููุงุช ุงูุฌุงู ุดุฏู:
- โ ุชุดุฎุต ูุฑูุช ุงุตู
- โ ุชุบุฑ ุณุงุฒ (ุฏุฑ ุตูุฑุช ูุงุฒ)
- โ ุชุจุฏู ุจู WebP
- โ ูุดุฑุฏูโุณุงุฒ ุจุง ฺฉูุช ุจููู
- โ ููุงุด ูุงฺฏ (ุณุงุฒ ูุจู/ุจุนุฏ)

### ณ. ุขูพููุฏ ุจู Liara
```typescript
await upload.done();
// ุชุตูุฑ ุจููู ุดุฏู ุฏุฑ Liara ุฐุฎุฑู ูโุดูุฏ
```

## ูุซุงูโูุง ูุงูุน

### ูุซุงู ฑ: ุชุตูุฑ IMDb
```
ูุจู ุงุฒ ุจูููโุณุงุฒ:
- ูุฑูุช: JPEG
- ุงุจุนุงุฏ: 2000x3000px
- ุญุฌู: 1.8MB

ุจุนุฏ ุงุฒ ุจูููโุณุงุฒ:
- ูุฑูุช: WebP
- ุงุจุนุงุฏ: 800x1200px (ูุณุจุช ุญูุธ ุดุฏ)
- ุญุฌู: 245KB
- ูุดุฑุฏูโุณุงุฒ: 86% ฺฉูฺฺฉโุชุฑ โ
```

### ูุซุงู ฒ: ุชุตูุฑ Google Images
```
ูุจู ุงุฒ ุจูููโุณุงุฒ:
- ูุฑูุช: PNG
- ุงุจุนุงุฏ: 1920x1080px
- ุญุฌู: 3.2MB

ุจุนุฏ ุงุฒ ุจูููโุณุงุฒ:
- ูุฑูุช: WebP
- ุงุจุนุงุฏ: 1200x675px
- ุญุฌู: 156KB
- ูุดุฑุฏูโุณุงุฒ: 95% ฺฉูฺฺฉโุชุฑ โ
```

### ูุซุงู ณ: ุชุตูุฑ ฺฉูฺฺฉ
```
ูุจู ุงุฒ ุจูููโุณุงุฒ:
- ูุฑูุช: JPEG
- ุงุจุนุงุฏ: 400x300px
- ุญุฌู: 85KB

ุจุนุฏ ุงุฒ ุจูููโุณุงุฒ:
- ูุฑูุช: WebP
- ุงุจุนุงุฏ: 400x300px (ุจุฏูู ุชุบุฑ)
- ุญุฌู: 28KB
- ูุดุฑุฏูโุณุงุฒ: 67% ฺฉูฺฺฉโุชุฑ โ
```

## ูุดุงูุฏู ูุงฺฏโูุง

ุฏุฑ console ุณุฑูุฑุ ูุงฺฏโูุง ุจูููโุณุงุฒ ุฑุง ูโุจูุฏ:

```
Downloading image from: https://example.com/image.jpg
Optimizing image...
Original image: 2000x1500, format: jpeg, size: 850.23KB
Optimized image: size: 187.45KB (78.0% smaller)
Uploading to Liara: items/abc123.webp
Image uploaded successfully: https://storage.c2.liara.space/wibe/items/abc123.webp
```

## ุชูุธูุงุช ุณูุงุฑุด

ุงฺฏุฑ ูุงุฒ ุจู ุชุบุฑ ุชูุธูุงุช ุฏุงุฑุฏุ ูุงู `lib/image-optimizer.ts` ุฑุง ูุฑุงุด ฺฉูุฏ:

```typescript
export const IMAGE_CONFIG = {
  maxWidth: 1200,        // ุชุบุฑ ุนุฑุถ
  maxHeight: 1200,       // ุชุบุฑ ุงุฑุชูุงุน
  quality: {
    webp: 80,           // ฺฉูุช WebP
    jpeg: 85,           // ฺฉูุช JPEG
  },
  format: 'webp',       // ูุฑูุช ูพุดโูุฑุถ
  targetMaxSize: 500 * 1024, // ูุฏู ุญุฌู
};
```

## ูพุดุชุจุงู ุงุฒ ูุฑูุฑฺฏุฑูุง

### WebP Support
- โ Chrome/Edge: ฺฉุงูู
- โ Firefox: ฺฉุงูู
- โ Safari 14+: ฺฉุงูู
- โ Mobile browsers: 95%+

### Fallback
ุงฺฏุฑ ูุงุฒ ุจู fallback ุฏุงุฑุฏุ ูโุชูุงูุฏ ูุฑ ุฏู ูุฑูุช ุฑุง ุฐุฎุฑู ฺฉูุฏ:

```typescript
// WebP ุจุฑุง ูุฑูุฑฺฏุฑูุง ูุฏุฑู
const webp = await optimizeImage(buffer, { format: 'webp' });

// JPEG ุจุฑุง ูุฑูุฑฺฏุฑูุง ูุฏู
const jpeg = await optimizeImage(buffer, { format: 'jpeg' });
```

## ฺฉุชุงุจุฎุงูู ุงุณุชูุงุฏู ุดุฏู

**sharp** - ุณุฑุนโุชุฑู ฺฉุชุงุจุฎุงูู ูพุฑุฏุงุฒุด ุชุตูุฑ Node.js
- GitHub: https://github.com/lovell/sharp
- ูุณุชูุฏุงุช: https://sharp.pixelplumbing.com/
- ุนููฺฉุฑุฏ: 4-5x ุณุฑุนโุชุฑ ุงุฒ ImageMagick
- ูพุดุชุจุงู: JPEG, PNG, WebP, AVIF, TIFF ู ุจุดุชุฑ

## ุณูุงูุงุช ูุชุฏุงูู

### ุขุง ฺฉูุช ุชุตุงูุฑ ฺฉุงูุด ูโุงุจุฏุ
ุฎุฑ. ุจุง ุชูุธูุงุช 80% WebP ุง 85% JPEGุ ุชูุงูุช ฺุดู ูุฌูุฏ ูุฏุงุฑุฏ ุงูุง ุญุฌู 60-80% ฺฉูุชุฑ ุงุณุช.

### ฺุฑุง WebPุ
- 30% ฺฉูฺฺฉโุชุฑ ุงุฒ JPEG ุจุง ููุงู ฺฉูุช
- ูพุดุชุจุงู 95%+ ูุฑูุฑฺฏุฑูุง
- ูุดุฑุฏูโุณุงุฒ ุจูุชุฑ ุจุฑุง ุชุตุงูุฑ ูพฺุฏู

### ุขุง ูโุชูุงูู ุจูููโุณุงุฒ ุฑุง ุบุฑูุนุงู ฺฉููุ
ุจููุ ุงูุง ุชูุตู ููโุดูุฏ. ุงฺฏุฑ ูุงุฒ ุฏุงุฑุฏุ ุชุงุจุน `optimizeImage()` ุฑุง ูุฑุงุฎูุงู ูฺฉูุฏ.

### ฺู ุฒูุงู ุจุงุฏ ุชูุธูุงุช ุฑุง ุชุบุฑ ุฏููุ
- ุงฺฏุฑ ุชุตุงูุฑ ุฎู ฺฉูฺฺฉ ูุณุชูุฏ โ ฺฉูุช ุฑุง ุงูุฒุงุด ุฏูุฏ
- ุงฺฏุฑ ุชุตุงูุฑ ุฎู ุจุฒุฑฺฏ ูุณุชูุฏ โ ุงุจุนุงุฏ ุฑุง ุงูุฒุงุด ุฏูุฏ
- ุงฺฏุฑ ูุงุฒ ุจู ฺฉูุช ุจุงูุง ุฏุงุฑุฏ โ ุงุฒ JPEG ุจุง 90% ุงุณุชูุงุฏู ฺฉูุฏ
